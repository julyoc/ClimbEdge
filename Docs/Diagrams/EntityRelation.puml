@startuml ClimbEdge.Docs.Diagrams.EntityRelation

!include <C4/C4_Container>

package "Entities" {

    entity "BaseEntity" as BaseEntity {
        +Id: long
        +Uid: Guid
        +Slug: string
        +Metadata: jsonb
        +RowVersion: byte[]
        +CreatedAt: DateTime
        +UpdatedAt: DateTime?
        +DeletedAt: DateTime?
        +RestoredAt: DateTime?
        +LockedAt: DateTime?
    }

    entity "UserProfile" as UserProfile {
        ..inherits BaseEntity..

        +UserId: long
        +FirstName: string?
        +LastName: string?
        +DateOfBirth: DateOnly?
        +Bio: string?
        +ProfilePictureUrl: string?
        +Website: string?
        +Location: string?
        +Country: string
        +TimeZone: string
        +PreferredLanguage: string
        +IsPublic: bool
        +EmailNotifications: bool
        +PushNotifications: bool
        +ClimbingExperienceLevel: string?
        +PreferredClimbingStyle: string?
        +EmergencyContact: string?
        +EmergencyContactName: string?
    }

    entity "AppUser" as AppUser {
        ..inherits BaseEntity..

        +Username: string?
        +NormalizedUserName: string?
        +Email: string?
        +NormalizedEmail: string?
        +EmailConfirmed: bool
        +PasswordHash: string?
        +SecurityStamp: string?
        +ConcurrencyStamp: string?
        +PhoneNumber: string?
        +PhoneNumberConfirmed: bool
        +TwoFactorEnabled: bool
        +LockoutEnd: DateTime?
        +LockoutEnabled: bool
        +AccessFailedCount: int
    }

    entity "AppRole" as AppRole {
        +Id: long
        +Name: string?
        +NormalizedName: string?
        +ConcurrencyStamp: string?
    }
}

UserProfile "1" -- "1" AppUser : has <
AppRole "0..*" -- "0..*" AppUser : belongs to

@enduml
' This file is auto-generated by PlantUML.